{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY =\n  'live_gx5mwTdpktLl6xdhpuQw9kTaTAevrcrANhMNGA6mvTxfxagdtdDbekzlyo3sTKhz';\n\n// axios.defaults.headers.common['x-api-key'] = API_KEY;\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst ENDPOINT_BREEDS = '/breeds';\nconst ENDPOINT_IMG_SEARCH = '/images/search';\n\nfunction fetchBreed() {\n  return fetch(`${BASE_URL}${ENDPOINT_BREEDS}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n      return response.json();\n    })\n    .catch(err => console.log(err));\n}\n\nfunction fetchCatByBreed(breedId = '') {\n  const params = new URLSearchParams({\n    breed_ids: breedId,\n    api_key: API_KEY,\n  });\n\n  return fetch(`${BASE_URL}${ENDPOINT_IMG_SEARCH}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n      return response.json();\n    })\n    .catch(err => console.log(err));\n}\n\nexport { fetchBreed, fetchCatByBreed };\n","import { fetchBreed, fetchCatByBreed } from './cat-api';\n\nconst elements = {\n  select: document.querySelector('.breed-select'),\n  msgLoader: document.querySelector('.loader'),\n  msgError: document.querySelector('.error'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nelements.select.addEventListener('change', handlerSelect);\n\nfetchBreed()\n  .then(data => {\n    elements.select.insertAdjacentHTML('afterbegin', selectMarkup(data));\n  })\n  .catch(err => console.log(err));\n\nfunction selectMarkup(array) {\n  return array\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join();\n}\n\nfunction handlerSelect() {\n  fetchCatByBreed(elements.select.value)\n    .then(\n      ([\n        {\n          breeds: [{ name, temperament, description }],\n          url,\n        },\n      ]) => {\n        elements.catInfo.innerHTML = `\n        <img src=\"${url}\" alt=\"${name}\" class=\"cat-img\"/>\n        <div class=\"cat-info-text\">\n          <h2 class=\"cat-name\">${name}</h2>\n          <p class=\"cat-description\">${description}</p>\n          <p class=\"cat-temper\"><b>Temperament:</b> ${temperament}</p>\n        </div>`;\n        console.log(temperament, description, url);\n      }\n    )\n    .catch(err => console.log(err));\n}\n"],"names":["API_KEY","BASE_URL","ENDPOINT_BREEDS","ENDPOINT_IMG_SEARCH","fetchBreed","response","err","fetchCatByBreed","breedId","params","elements","handlerSelect","data","selectMarkup","array","id","name","temperament","description","url"],"mappings":"ssBAEA,MAAMA,EACJ,wEAIIC,EAAW,+BACXC,EAAkB,UAClBC,EAAsB,iBAE5B,SAASC,GAAa,CACpB,OAAO,MAAM,GAAGH,IAAWC,GAAiB,EACzC,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,GAAGA,EAAS,YAAYA,EAAS,YAAY,EAE/D,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CAEA,SAASC,EAAgBC,EAAU,GAAI,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,UAAWD,EACX,QAASR,CACb,CAAG,EAED,OAAO,MAAM,GAAGC,IAAWE,KAAuBM,GAAQ,EACvD,KAAKJ,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,GAAGA,EAAS,YAAYA,EAAS,YAAY,EAE/D,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CClCA,MAAMI,EAAW,CACf,OAAQ,SAAS,cAAc,eAAe,EAC9C,UAAW,SAAS,cAAc,SAAS,EAC3C,SAAU,SAAS,cAAc,QAAQ,EACzC,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEAA,EAAS,OAAO,iBAAiB,SAAUC,CAAa,EAExDP,EAAY,EACT,KAAKQ,GAAQ,CACZF,EAAS,OAAO,mBAAmB,aAAcG,EAAaD,CAAI,CAAC,CACvE,CAAG,EACA,MAAMN,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAEhC,SAASO,EAAaC,EAAO,CAC3B,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,MACL,CAEA,SAASL,GAAgB,CACvBJ,EAAgBG,EAAS,OAAO,KAAK,EAClC,KACC,CAAC,CACC,CACE,OAAQ,CAAC,CAAE,KAAAM,EAAM,YAAAC,EAAa,YAAAC,CAAW,CAAE,EAC3C,IAAAC,CACD,CACT,IAAY,CACJT,EAAS,QAAQ,UAAY;AAAA,oBACjBS,WAAaH;AAAA;AAAA,iCAEAA;AAAA,uCACME;AAAA,sDACeD;AAAA,gBAE9C,QAAQ,IAAIA,EAAaC,EAAaC,CAAG,CAC1C,CACF,EACA,MAAMb,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC"}